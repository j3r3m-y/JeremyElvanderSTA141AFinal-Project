tst <- data.frame(feedbackType = feedbackTemp, sessionNumber = sesTemp)
tst
session[[2]]$feedback_type
feedbackTemp <- c()
sesTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
sesTemp <- c(sesTemp, i)
}
}
tst <- data.frame(feedbackType = feedbackTemp, sessionNumber = sesTemp)
tst
session[[2]]$feedback_type
feedbackTemp <- c()
sesTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
sesTemp <- c(sesTemp, i)
}
}
tst <- data.frame(feedbackType = feedbackTemp, sessionNumber = sesTemp)
tst
c(session[[2]]$feedback_type)
tmp
tmp <- finalNrnFrame %>%
select(-trial) %>%
stack()
tmp <- data.frame(tmp, trial = rep(1:100, times = 18), sessionNumber = as.character(rep(1:18, each = 100))) %>%
select(-ind) %>%
group_by(sessionNumber)
tmp
sessInfoRel <- data.frame(sessionNumber = as.character(sessInfo$sessionNumber), mouseName = sessInfo$mouseName)
tmp <- merge(tmp, sessInfoRel, by = "sessionNumber")
tmp
feedbackTemp <- c()
sesTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
sesTemp <- c(sesTemp, i)
}
}
tst <- data.frame(feedbackType = feedbackTemp, sessionNumber = sesTemp)
tmp
tmp <- merge(tmp, tst, by = sessionNumber)
tst
tmp <- merge(tmp, tst, by = "sessionNumber")
tmp
tmp <- finalNrnFrame %>%
select(-trial) %>%
stack()
tmp <- data.frame(tmp, trial = rep(1:100, times = 18), sessionNumber = as.character(rep(1:18, each = 100))) %>%
select(-ind) %>%
group_by(sessionNumber)
tmp
sessInfoRel <- data.frame(sessionNumber = as.character(sessInfo$sessionNumber), mouseName = sessInfo$mouseName)
tmp <- merge(tmp, sessInfoRel, by = "sessionNumber")
tmp
feedbackTemp <- c()
sesTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
sesTemp <- c(sesTemp, i)
}
}
tst <- data.frame(feedbackType = feedbackTemp, sessionNumber = sesTemp)
tst
tmp
sessInfoRel
?inner_join
?full_join
tmp <- full_join(tmp, tst, by = "sessionNumber")
feedbackTemp <- c()
sesTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
sesTemp <- c(sesTemp, i)
}
}
tst <- data.frame(feedbackType = feedbackTemp, sessionNumber = as.character(sesTemp))
tst
tmp
tmp <- full_join(tmp, tst, by = "sessionNumber")
tmp <- finalNrnFrame %>%
select(-trial) %>%
stack()
tmp <- data.frame(tmp, trial = rep(1:100, times = 18), sessionNumber = as.character(rep(1:18, each = 100))) %>%
select(-ind) %>%
group_by(sessionNumber)
tmp
sessInfoRel <- data.frame(sessionNumber = as.character(sessInfo$sessionNumber), mouseName = sessInfo$mouseName)
sessInfoRel
tmp <- merge(tmp, sessInfoRel, by = "sessionNumber")
tmp
feedbackTemp <- c()
sesTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
sesTemp <- c(sesTemp, i)
}
}
tst <- data.frame(feedbackType = feedbackTemp, sessionNumber = as.character(sesTemp))
tst
tmp
tmp %>%
arrange(by_group = TRUE)
tmp <- finalNrnFrame %>%
select(-trial) %>%
stack()
tmp <- data.frame(tmp, trial = rep(1:100, times = 18), sessionNumber = rep(1:18, each = 100)) %>%
select(-ind) %>%
group_by(sessionNumber)
tmp
sessInfoRel <- data.frame(sessionNumber = sessInfo$sessionNumber, mouseName = sessInfo$mouseName)
sessInfoRel
tmp <- merge(tmp, sessInfoRel, by = "sessionNumber")
tmp
feedbackTemp <- c()
sesTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
sesTemp <- c(sesTemp, i)
}
}
tst <- data.frame(feedbackType = feedbackTemp, sessionNumber = as.character(sesTemp))
tst
tmp
tmp <- merge(tmp, tst, by = "sessionNumber")
tmp
tmp <- finalNrnFrame %>%
select(-trial) %>%
stack()
tmp <- data.frame(tmp, trial = rep(1:100, times = 18), sessionNumber = rep(1:18, each = 100)) %>%
select(-ind) %>%
group_by(sessionNumber)
tmp
sessInfoRel <- data.frame(sessionNumber = sessInfo$sessionNumber, mouseName = sessInfo$mouseName)
sessInfoRel
tmp <- merge(tmp, sessInfoRel, by = "sessionNumber")
tmp
feedbackTemp <- c()
sesTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
sesTemp <- c(sesTemp, i)
}
}
tst <- data.frame(feedbackType = feedbackTemp, sessionNumber = as.character(sesTemp))
tst
tmp
feedbackTemp <- c()
sesTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
sesTemp <- c(sesTemp, i)
}
}
tst <- data.frame(feedbackType = feedbackTemp, sessionNumber = sesTemp)
tst
tmp
tmp <- merge(tmp, tst, by = "sessionNumber")
tmp
tmp <- finalNrnFrame %>%
select(-trial) %>%
stack()
tmp <- data.frame(tmp, trial = rep(1:100, times = 18), sessionNumber = rep(1:18, each = 100)) %>%
select(-ind) %>%
group_by(sessionNumber)
tmp
sessInfoRel <- data.frame(sessionNumber = sessInfo$sessionNumber, mouseName = sessInfo$mouseName)
sessInfoRel
tmp <- merge(tmp, sessInfoRel, by = "sessionNumber")
tmp
feedbackTemp <- c()
sesTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
sesTemp <- c(sesTemp, i)
}
}
tst <- data.frame(feedbackType = feedbackTemp, sessionNumber = sesTemp)
tst
tmp
tmp <- full_join(tmp, tst, by = "sessionNumber")
tmp
tmp <- finalNrnFrame %>%
select(-trial) %>%
stack()
tmp <- data.frame(tmp, trial = rep(1:100, times = 18), sessionNumber = rep(1:18, each = 100)) %>%
select(-ind) %>%
group_by(sessionNumber)
tmp
sessInfoRel <- data.frame(sessionNumber = sessInfo$sessionNumber, mouseName = sessInfo$mouseName)
sessInfoRel
tmp <- merge(tmp, sessInfoRel, by = "sessionNumber")
tmp
feedbackTemp <- c()
sesTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
sesTemp <- c(sesTemp, i)
}
}
tst <- data.frame(feedbackType = feedbackTemp, sessionNumber = sesTemp)
tst
tmp
feedbackTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
}
}
tmp <- data.frame(tmp, feedbackTemp)
tmp
tmp
session[[1]]$feedback_type[1:100]
tmp
session[[2]]$feedback_type[1:100]
tmp
session[[6]]$feedback_type[1:100]
tmp <- finalNrnFrame %>%
select(-trial) %>%
stack()
tmp <- data.frame(tmp, trial = rep(1:100, times = 18), sessionNumber = rep(1:18, each = 100)) %>%
select(-ind) %>%
group_by(sessionNumber)
tmp
sessInfoRel <- data.frame(sessionNumber = sessInfo$sessionNumber, mouseName = sessInfo$mouseName)
sessInfoRel
tmp <- merge(tmp, sessInfoRel, by = "sessionNumber")
tmp
feedbackTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
}
}
tmp <- data.frame(tmp, feedbackType = feedbackTemp)
tmp
ggplot(tmp, aes(x = trial, y = values, color = sessionNumber, shape = feedbackTemp)) +
geom_point(size = 0.5)
tmp <- finalNrnFrame %>%
select(-trial) %>%
stack()
tmp <- data.frame(tmp, trial = rep(1:100, times = 18), sessionNumber = rep(1:18, each = 100)) %>%
select(-ind) %>%
group_by(sessionNumber)
tmp
sessInfoRel <- data.frame(sessionNumber = sessInfo$sessionNumber, mouseName = sessInfo$mouseName)
sessInfoRel
tmp <- merge(tmp, sessInfoRel, by = "sessionNumber")
tmp
feedbackTemp <- c()
for(i in 1:18){
feedback <- session[[i]]$feedback_type
for(j in 1:100){
feedbackTemp <- c(feedbackTemp, feedback[j])
}
}
tmp <- data.frame(tmp, feedbackType = as.character(feedbackTemp))
tmp
ggplot(tmp, aes(x = trial, y = values, color = sessionNumber, shape = feedbackTemp)) +
geom_point(size = 0.5)
ggplot(tmp, aes(x = trial, y = values, color = sessionNumber, shape = feedbackType)) +
geom_point(size = 0.5)
ggplot(tmp, aes(x = trial, y = values, color = as.character(sessionNumber), shape = feedbackType)) +
geom_point(size = 0.5)
ggplot(tmp, aes(x = trial, y = values, color = as.character(sessionNumber), shape = feedbackType)) +
geom_point(size = 0.9)
tmp
session[[1]]$feedback_type{1:100]
tmp
session[[1]]$feedback_type{1:100]
tmp
session[[1]]$feedback_type[1:100]
tmp
session[[2]]$feedback_type[1:100]
tmp
session[[6]]$feedback_type[1:100]
ggplot(tmp, aes(x = trial, y = values, color = feedbackType)) +
geom_point(size = 0.9)
ggplot(tmp, aes(x = trial, y = values, color = feedbackType)) +
geom_point(size = 0.9) +
geom_smooth(method = "lm")
ggplot(tmp, aes(x = trial, y = values, color = feedbackType)) +
geom_point(size = 0.9) +
geom_spline(method = "lm")
ggplot(tmp, aes(x = trial, y = values, color = feedbackType)) +
geom_point(size = 0.9) +
geom_smooth(method = "lm")
ggplot(tmp, aes(x = trial, y = values, color = feedbackType)) +
geom_point(size = 0.5) +
geom_smooth(method = "lm")
ggplot(tmp, aes(x = trial, y = values, color = sessionNumber)) +
geom_point(size = 0.5) +
geom_spline() +
facet_wrap(~feedbackType)
ggplot(tmp, aes(x = trial, y = values, color = as.character(sessionNumber))) +
geom_point(size = 0.5) +
geom_spline() +
facet_wrap(~feedbackType)
ggplot(tmp, aes(x = trial, y = values, color = as.character(sessionNumber))) +
geom_point(size = 0.5) +
geom_spline() #+
facet_wrap_paginate(~feedbackType)
ggplot(tmp, aes(x = trial, y = values, color = as.character(sessionNumber))) +
geom_point(size = 0.5) +
geom_spline() #+
facet_grid(~feedbackType)
ggplot(tmp, aes(x = trial, y = values, color = as.character(sessionNumber))) +
geom_point(size = 0.5) +
geom_spline() #+
facet_wrap(~feedbackType)
ggplot(tmp, aes(x = trial, y = values, color = as.character(sessionNumber))) +
geom_point(size = 0.5) +
geom_spline() +
facet_grid(~feedbackType)
ggplot(tmp, aes(x = trial, y = values, color = as.character(sessionNumber))) +
geom_point(size = 0.5) +
geom_spline() #+
facet_grid(~feedbackType)
ggplot(tmp, aes(x = trial, y = values, color = as.character(sessionNumber))) +
geom_point(size = 0.5) +
geom_spline() #+
# facet_grid(~feedbackType)
library(viridis)
library(ggformula)
kelly_colors = c('F2F3F4', '222222', 'F3C300', '875692', 'F38400', 'A1CAF1', 'BE0032', 'C2B280', '848482', '008856', 'E68FAC', '0067A5', 'F99379', '604E97', 'F6A600', 'B3446C', 'DCD300', '882D17', '8DB600', '654522', 'E25822', '2B3D26')
plot <- ggplot(tmp, aes(x = trial, y = values, color = sessionNumber)) +
geom_point(size = 0.5) +
geom_spline(aes(group = ses))
print(plot)
library(viridis)
library(ggformula)
kelly_colors = c('F2F3F4', '222222', 'F3C300', '875692', 'F38400', 'A1CAF1', 'BE0032', 'C2B280', '848482', '008856', 'E68FAC', '0067A5', 'F99379', '604E97', 'F6A600', 'B3446C', 'DCD300', '882D17', '8DB600', '654522', 'E25822', '2B3D26')
plot <- ggplot(tmp, aes(x = trial, y = values, color = sessionNumber)) +
geom_point(size = 0.5) +
geom_spline(aes(group = sessionNumber))
print(plot)
library(viridis)
library(ggformula)
kelly_colors = c('F2F3F4', '222222', 'F3C300', '875692', 'F38400', 'A1CAF1', 'BE0032', 'C2B280', '848482', '008856', 'E68FAC', '0067A5', 'F99379', '604E97', 'F6A600', 'B3446C', 'DCD300', '882D17', '8DB600', '654522', 'E25822', '2B3D26')
plot <- ggplot(tmp, aes(x = trial, y = values, color = as.character(sessionNumber))) +
geom_point(size = 0.5) +
geom_spline(aes(group = sessionNumber))
print(plot)
ggplot(tmp, aes(x = trial, y = values, color = mouseName)) +
geom_point(size = 0.5) +
geom_spline()
ggplot(tmp, aes(x = trial, y = values, color = as.character(sessionNumber))) +
geom_point(size = 0.5) +
geom_spline() +
facet_grid(~feedbackType)
ggplot(tmp, aes(x = trial, y = values, color = as.character(sessionNumber))) +
geom_point(size = 0.5) +
geom_spline() +
facet_wrap(~feedbackType)
ggplot(tmp, aes(x = trial, y = values, color = mouseName)) +
geom_point(size = 0.5) +
geom_spline() +
facet_wrap(~feedbackType)
tmp
tmp %>%
filter(feedbackType == "1")
tmp %>%
filter(feedbackType == "1") %>%
summarize(count(feedbackType)/nrow(tmp))
tmp %>%
filter(feedbackType == "1") %>%
summarize(tally(feedbackType)/nrow(tmp))
tmp
finalNrnFrame
tmp
names(session[[1]])
length(session[[1]]$feedback_type)
c(1:length(session[[i]]$feedback_type))
c(1:length(session[[1]]$feedback_type))
c(rep(i, times = length(session[[1]]$feedback_type)))
c(rep(1, times = length(session[[1]]$feedback_type)))
length(c(rep(1, times = length(session[[1]]$feedback_type))))
c(rep(session[[1]]$mouse_name, times = length(session[[1]]$feedback_type)))
length(c(rep(session[[1]]$mouse_name, times = length(session[[1]]$feedback_type))))
data.frame(trialNumber = c(1:length(session[[1]]$feedback_type)),
seshNum = c(rep(1, times = length(session[[1]]$feedback_type))),
miceName = c(rep(session[[1]]$mouse_name, times = length(session[[1]]$feedback_type))))
c(session[[1]]$feedback_type)
data.frame(trialNumber = c(1:length(session[[i]]$feedback_type)),
seshNum = c(rep(i, times = length(session[[i]]$feedback_type))),
miceName = c(rep(session[[i]]$mouse_name, times = length(session[[i]]$feedback_type))),
feedbackTyp = c(session[[i]]$feedback_type))
data.frame(trialNumber = c(1:length(session[[1]]$feedback_type)),
seshNum = c(rep(1, times = length(session[[1]]$feedback_type))),
miceName = c(rep(session[[1]]$mouse_name, times = length(session[[1]]$feedback_type))),
feedbackTyp = c(session[[1]]$feedback_type))
c(session[[1]]$feedback_type)
data.frame(trialNumber = c(1:length(session[[1]]$feedback_type)),
seshNum = c(rep(1, times = length(session[[1]]$feedback_type))),
miceName = c(rep(session[[1]]$mouse_name, times = length(session[[1]]$feedback_type))),
feedbackTyp = c(session[[1]]$feedback_type))
session[[1]]$contrast_left
data.frame(col1 = c(), col2 = c(), col3 = c())
data.frame(col1 = c(1), col2 = c(1), col3 = c(1))
test1 <- data.frame(col1 = c(1), col2 = c(1), col3 = c(1))
test2 <- data.frame(col1 = c(2), col2 = c(2), col3 = c(2))
newTest <- stack(test1, test2)
newTest <- stack(c(test1 test2))
newTest <- stack(c(test1, test2))
NewTest
newTest
newTest <- rbind(test1, test2)
newTest
AllTrialSeshInfo <- data.frame(trialNumber = 0, seshNum = 0, miceName = 0, feedbackType = 0, leftContrast = 0, rightContrast = 0)
for(i in 1:18){
#Creating session number/trial number
seshFrame <- data.frame(trialNumber = c(1:length(session[[i]]$feedback_type)),
seshNum = c(rep(i, times = length(session[[i]]$feedback_type))),
miceName = c(rep(session[[i]]$mouse_name, times = length(session[[i]]$feedback_type))),
feedbackTyp = c(session[[i]]$feedback_type),
leftContrast = c(session[[i]]$contrast_left),
rightContrast = c(session[[i]]$contrast_right))
avgTrialNeuronSpk <- c()
for(j in 1:length(session[[i]]$feedback_type)){
avgTrialNeuronSpk <- c(avgTrialNeuronSpk, mean(apply(session[[i]]$spks[[j]], 1, sum)))
}
seshFrame <- data.frame(seshFrame, avgTrialNeuronSpk)
AllTrialSeshInfo <- rbind(AllTrialSeshInfo, seshFrame)
}
AllTrialSeshInfo <- data.frame(trialNumber = 0, seshNum = 0, miceName = 0, feedbackType = 0, leftContrast = 0, rightContrast = 0,
avgTrialNeuronSpk = 0)
for(i in 1:18){
#Creating session number/trial number
seshFrame <- data.frame(trialNumber = c(1:length(session[[i]]$feedback_type)),
seshNum = c(rep(i, times = length(session[[i]]$feedback_type))),
miceName = c(rep(session[[i]]$mouse_name, times = length(session[[i]]$feedback_type))),
feedbackTyp = c(session[[i]]$feedback_type),
leftContrast = c(session[[i]]$contrast_left),
rightContrast = c(session[[i]]$contrast_right))
avgTrialNeuronSpk <- c()
for(j in 1:length(session[[i]]$feedback_type)){
avgTrialNeuronSpk <- c(avgTrialNeuronSpk, mean(apply(session[[i]]$spks[[j]], 1, sum)))
}
seshFrame <- data.frame(seshFrame, avgTrialNeuronSpk)
AllTrialSeshInfo <- rbind(AllTrialSeshInfo, seshFrame)
}
AllTrialSeshInfo <- data.frame(trialNumber = 0, seshNum = 0, miceName = 0, feedbackType = 0, leftContrast = 0, rightContrast = 0,
avgTrialNeuronSpk = 0)
for(i in 1:18){
#Creating session number/trial number
seshFrame <- data.frame(trialNumber = c(1:length(session[[i]]$feedback_type)),
seshNum = c(rep(i, times = length(session[[i]]$feedback_type))),
miceName = c(rep(session[[i]]$mouse_name, times = length(session[[i]]$feedback_type))),
feedbackType = c(session[[i]]$feedback_type),
leftContrast = c(session[[i]]$contrast_left),
rightContrast = c(session[[i]]$contrast_right))
avgTrialNeuronSpk <- c()
for(j in 1:length(session[[i]]$feedback_type)){
avgTrialNeuronSpk <- c(avgTrialNeuronSpk, mean(apply(session[[i]]$spks[[j]], 1, sum)))
}
seshFrame <- data.frame(seshFrame, avgTrialNeuronSpk)
AllTrialSeshInfo <- rbind(AllTrialSeshInfo, seshFrame)
}
AllTrialSeshInfo
sum(sessInfo$numTrials)
AllTrialSeshInfo <- AllTrialSeshInfo[-1,]
AllTrialSeshInfo
tmp %>%
filter(feedbackType == 2)
tmp %>%
filter(sessionNumber == 2)
session[[1]]$contrast_left
tmp
contrLeft <- c()
contrRight <- c()
for(i in 1:18){
for(j in 1:100){
contrLeft <- c(contrLeft, session[[i]]$contrast_left[j])
contrRight <- c(contrRight, session[[i]]$contrast_right[j])
}
}
tmp <- data.frame(tmp, ContrastLeft = contrLeft, ContrastRight = contrRight)
tmp
session[[1]]$contrast_left
session[[1]]$contrast_right
session[[2]]$contrast_right
session[[2]]$contrast_left
ggplot(tmp, aes(x = trial, y = values)) +
geom_point(size = 0.5) +
facet_wrap(~c(ContrastLeft, ContrastRight))
install.packages("gridExtra")
